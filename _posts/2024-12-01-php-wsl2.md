---
title: PHP Development Setup on Windows with WSL2
layout: post
comments: true
published: true
description: 
keywords: php, wsl, wsl2, docker, xampp
---

It looks like [XAMPP](https://www.apachefriends.org/) is no longer actively maintained, 
which makes this a good time to rethink how we set up PHP development
environments on Windows. 

If you’ve been frustrated with the performance of Docker, 
you are not alone. I think many find it **too slow** for this kind of work. 

A much better option is **Windows Subsystem for Linux (WSL2)** . 
It’s fast, optimized, and offers a clean way to run a modern LAMP stack.

Here is how to get started with WSL2 and set up a PHP development environment 
that’s efficient and easy to use.

**Setting Up WSL2**

First, install WSL2 by running the following in command:

```bash
wsl --install
```

Follow the prompts to create a username and password.

Once inside your WSL2 environment, update and upgrade the system:

```bash
sudo apt update  
sudo apt upgrade
```

**Install Apache and PHP**

```bash
sudo apt install apache2
```

Add a repository for the latest PHP versions:

```bash
sudo apt install software-properties-common  
sudo add-apt-repository ppa:ondrej/php  
sudo apt update
```

**Automate PHP Installation with a Script**

Let’s create a simple script to install PHP and configure the environment:

1. Create a new file:

```bash
touch phpsetup.sh  
vim phpsetup.sh
```

2. Add this content to the file:

Press `INSERT` to enter in edit mode.

```bash
#!/usr/bin/env bash

apt update
apt install vim unzip -y
apt install libapache2-mod-php8.4 php8.4 php8.4-cgi -y
apt install mysql-client libmysqlclient-dev -y
apt install php8.4-mysql php8.4-sqlite3 -y
apt install php8.4-mbstring php8.4-curl php8.4-intl php8.4-gd php8.4-zip php8.4-bz2 -y
apt install php8.4-dom php8.4-xml php8.4-soap php8.4-xdebug

a2enmod php8.4
a2enmod rewrite
a2enmod actions

sed -i '170,174 s/AllowOverride None/AllowOverride All/g' /etc/apache2/apache2.conf  

service apache2 restart  

cd ~  
php -r "copy('https://getcomposer.org/installer', 'composer-setup.php');"  
php composer-setup.php --install-dir=/usr/local/bin --filename=composer  
php -r "unlink('composer-setup.php');"  
composer self-update
```

3. Save and exit (`ESC`, then `:wq`).

4. Make the script executable and run it:

```bash
sudo chmod +x phpsetup.sh  
sudo ./phpsetup.sh
```

For development only: give full write access:

```
sudo chmod -R a+rwx /var/www/html/
```

Install net-tools:

```
apt install net-tools
```

**Testing your Setup**

Identify IP address

From the perspective of the Windows host, 
you want to query a Linux distribution's IP address running via WSL2, 
so that a program on Windows host can connect to a server program running
inside the distribution (instance).

```bash
wsl hostname -I
```

Output:

```
172.26.131.159
```

The second option would be to run `hostname -I` directly within the running WSL instance.

Visit the IP in your browser, e.g., `http://<wsl-ip>`. 

You should see the **Apache demo** page.

**Accessing Files on Windows**

To edit files easily (for example in PhpStorm or VSCode), you can create a network share:

1. Install Samba:

```bash
sudo apt install samba
```

2. Share your web directory:

```bash
net usershare add html /var/www/html apache Everyone:F guest_ok=y
```

Access the folder on Windows by entering the UNC path, e.g., `\\<wsl-ip>\html`.

For convenience, mount the directory as a network drive, for instance:

```bash
net use Z: \\172.26.131.159\html
```

Note: Replace the IP address with you own WSL ip address

Then try to Open drive `Z:` in PhpStorm or VSCode to develop your projects.

## Read more

* [Set up a WSL development environment](https://learn.microsoft.com/en-us/windows/wsl/setup/environment)
